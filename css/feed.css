/* Fade-in green background for Essay pill */
.sch-card .sch-flags .flag.essay-green-fade {
      background: #2ecc40 !important;
      color: #fff !important;
      transition: background 0.5s cubic-bezier(0.4,0,0.2,1), color 0.2s;
}
/* Subtle pulse animation for Essay pill */
.sch-card .sch-flags .flag.essay-pulse {
      animation: essay-pulse 0.5s ease;
}

@keyframes essay-pulse {
      0%   { box-shadow: 0 0 0 0 rgba(46,204,64,0.5); }
      50%  { box-shadow: 0 0 8px 4px rgba(46,204,64,0.25); }
      100% { box-shadow: 0 0 0 0 rgba(46,204,64,0.0); }
}
.feed-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      user-select: none;
}
.feed-header:hover { background: rgba(255,255,255,0.03); }
.feed-title { font-weight: 700; }
.feed-subtitle { margin-left: 8px; color: #9ca3af; font-size: 12px; opacity: .95; }
.feed-toggle {
      margin-left: auto;
      background: none;
      border: none;
      color: #cbd5e1;
      font-weight: 900;
      font-size: 18px;
      line-height: 1;
      cursor: pointer;
      padding: 0 2px;
}
.feed-toggle:hover { color: #e5e7eb; }
.feed-header::after { content: none !important; }
.feed-content {
      overflow: hidden;
      opacity: 1;
      transition: max-height .25s ease, opacity .2s ease;
}
.feed-section.expanded .feed-content {
      opacity: 1;
      overflow: auto;
}
.feed-section.collapsed .feed-content {
      position: relative;
}
.feed-section.collapsed .feed-content::after {
      content: "";
      position: sticky;
      display: block;
      height: 36px;
      margin-top: -36px;
      pointer-events: none;
}
.feed-section { border: 1px solid #202020; border-radius: 12px; background:#0f0f12; }
.feed-section + .feed-section { margin-top: 10px; }

/* Onboarding/Intro Animation Styles */
#searchIntroOverlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1100;
      background: radial-gradient(1200px 800px at 50% 40%, rgba(25,25,30,.35), rgba(15,15,18,.9));
}
#searchIntroOverlay.active { display: flex; }
.search-intro-text {
      font-size: 20px;
      /* font-weight: 800; */
      letter-spacing: .3px;
      display: inline-flex;
      align-items: baseline;
      gap: 3px;
}
.search-intro-ellipses {
      display: inline-grid;
      grid-auto-flow: column;
      gap: 3px;
}
.search-intro-ellipses span {
      width: 3px; height: 3px; border-radius: 50%;
      background: #cbd5e1;
      opacity: 0;
      animation: dotPulse 1900ms ease-in-out infinite;
}
.search-intro-ellipses span:nth-child(2) { animation-delay: 150ms; }
.search-intro-ellipses span:nth-child(3) { animation-delay: 300ms; }
#searchIntroOverlay.flash .search-intro-text { 
      font-weight: 700; color: #60a5fa; 
      /* add fade in */
      animation: fadeInRight 0.9s ease-in-out;
}
.onboarding-active .main-app { opacity: 1; }
.onboarding-active .main-app > :not(.content-area) { opacity: 0; }
.onboarding-active .content-area > :not(#accordionContainer) { opacity: 0; }
.onboarding-active #accordionContainer > :not(#liveFeedSection) { opacity: 0; }
.onboarding-active #liveFeedSection .feed-content > :not(.sch-card.intro-card) { opacity: 0; }
.onboarding-active #liveFeedSection .sch-card * > :not(.sch-card.intro-card *) { opacity: 0; }
.onboarding-active #liveFeedSection,
.onboarding-active #liveFeedHeader,
.onboarding-active #liveFeedContent { opacity: 1; }
.sch-card.intro-card {
      will-change: transform;
      transform: translate3d(0,0,0);
      transition: transform .45s ease;
      z-index: 500;
      position: relative;
}
.onboarding-active .main-app > :not(.metrics-header):not(.content-area) { opacity: 0; }
.onboarding-active #liveFeedHeader { opacity: 0 !important; pointer-events: none; }
.onboarding-active #liveFeedSection { background: transparent !important; border-color: transparent !important; box-shadow: none !important; overflow: visible !important; }
.onboarding-active #liveFeedContent { padding: 0 !important; overflow: visible !important; }
.onboarding-active #liveFeedSection .feed-content > :not(.sch-card.intro-card) { opacity: 0; }
.onboarding-active .sch-card.intro-card, .onboarding-active .sch-card.intro-card * {
      opacity: 0;
      transition: opacity var(--onb-hero-fade) var(--onb-ease-fade), transform var(--onb-hero-move) var(--onb-ease-move);
}
.onboarding-active .sch-card.intro-card.intro-prep{ transition: none !important; }
.onboarding-active .sch-card.intro-card.intro-visible, .onboarding-active .sch-card.intro-card.intro-visible * { opacity: 1; }
.onboarding-revealing .main-app *{ transition: opacity var(--onb-reveal-rest) var(--onb-ease-reveal); }
.onboarding-active .sch-card.intro-card.intro-freeze { opacity: 1 !important; transition: none !important; animation: none !important; }
/* =========================
      Feed, Card, Progress, and Status Styles (Unified)
      ========================= */

.feed-section {
      background: #111;
      border-radius: 16px;
      border: 1px solid #222;
      transition: var(--feed-transition);
      display: flex;
      flex-direction: column;
      overflow: hidden;
}

.feed-section #onboardingActive {
      transition: none;
}

.feed-section.expanded {
      flex: 1;
}

.feed-section.collapsed {
      height: 180px;
}

.feed-header {
      padding: 6px 16px;
      cursor: pointer;
      border-bottom: 1px solid #222;
}

.feed-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
}

.feed-subtitle {
      font-size: 12px;
      color: #666;
}

.feed-content {
      flex: 1;
      overflow-y: auto;
      padding: 6px;
}

/* Card Containers (Unified) */
.scholarship-box, .sch-card {
   background: var(--card-bg, #0a0a0a);
   border: 1px solid var(--card-border, #222);
   border-radius: var(--card-radius, 12px);
   padding: var(--card-padding, 8px 12px);
   margin-bottom: 4px;
   animation: fadeInUp 0.4s ease-out;
   transition: all 0.3s ease;
}

/* Status Text (Unified) */
.status-text {
   font-size: 12px;
   color: var(--status-color, #888);
   margin-bottom: 8px;
}
.status-text.action-required {
   color: var(--status-action, #f59e0b);
   font-weight: 600;
}
.status-text.failed {
   color: var(--status-failed, #ef4444);
}
.status-text.success {
   color: var(--status-success, #4ade80);
}

/* Progress Bar (Unified) */
.progress-bar, .sch-card .sch-progress {
   height: var(--progress-height, 4px);
   background: var(--progress-bg, #222);
   border-radius: var(--progress-radius, 2px);
   overflow: hidden;
}
.progress-fill, .sch-card .sch-progress .bar {
   height: 100%;
   background: var(--progress-bar-gradient, linear-gradient(90deg, #3b82f6, #8b5cf6));
   border-radius: var(--progress-radius, 2px);
   transition: width 0.5s ease;
}

/* Additional Feed/Card/Progress/Status Styles from style.css */
.sch-card {
      background:#0c0c0f;
      border:1px solid #222;
      border-radius:16px;
      padding:12px 14px 10px;
      margin:8px 0;
      box-shadow:0 2px 12px rgba(0,0,0,.35);
      animation:fadeInUp .25s ease-out;
}
.onboarding-active .sch-card { animation: none !important; }
.sch-card.intro-card { animation: none !important; }
.sch-card .sch-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:8px;
}
.sch-card .sch-name{
      font-size:14px;
      font-weight:700;
      letter-spacing:.2px;
      display:flex;
      align-items:center;
      gap:6px;
}
.sch-card .sch-name::before{
      content:"âœ¨";
      font-size:12px;
      opacity:.9;
}
.sch-card .sch-award{
      font-size:11px;
      font-weight:700;
      color:#bbb;
      background:#1a1a1f;
      border:1px solid #2a2a33;
      padding:2px 8px;
      border-radius:999px;
      white-space:nowrap;
}
.sch-card .sch-deadline{
      display:inline-block;
      font-size:11px;
      color:#8aa9ff;
      background:#11182a;
      border:1px solid #1f2a44;
      padding:4px 10px;
      border-radius:999px;
      margin:2px 0 8px;
}
.sch-card .sch-flags{
      display:inline-flex;
      gap:6px;
      margin-left:8px;
}
.sch-card .sch-flags .flag{
      font-size:10px;
      color:#bbb;
      background:#161616;
      border:1px solid #2a2a2a;
      border-radius:999px;
      padding:2px 8px;
}
.sch-card .sch-progress{
      height:8px;
      background:#1a1a1a;
      border:1px solid #252525;
      border-radius:999px;
      overflow:hidden;
      position:relative;
}
.sch-card .sch-progress .bar{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,#3b82f6,#8b5cf6);
      transition:width .45s ease;
}
.sch-card .sch-state{
      margin-top:8px;
      font-size:11px;
      color:#8a8a8a;
}
.sch-card[data-state="scanning"] .sch-progress .bar{
      background:linear-gradient(90deg,#334155,#64748b);
}
.sch-card[data-state="analyzing"] .sch-progress .bar{
      background:linear-gradient(90deg,#3b82f6,#8b5cf6);
}
.sch-card[data-state="matched"] .sch-progress .bar{
      background:linear-gradient(90deg,#22d3ee,#3b82f6);
}
.sch-card[data-state="confirmEligibility"] .sch-progress .bar{
      background:linear-gradient(90deg,#f59e0b,#fbbf24);
}
.sch-card[data-state="readyToSubmit"] .sch-progress .bar{
      background:linear-gradient(90deg,#34d399,#10b981);
}
.sch-card[data-state="submitted"] .sch-progress .bar{
      background:linear-gradient(90deg,#34d399,#10b981);
}
.sch-card[data-state="submitted"]{
      border-color:#1f3b2e;
      box-shadow:0 0 0 1px rgba(16,185,129,.15), 0 6px 24px rgba(0,0,0,.35);
}
.sch-card[data-state="submitted"] .sch-state{
      color:#34d399;
}
.sch-card .sch-progress .bar::after{
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
      transform:translateX(-100%);
      transition:transform .6s ease;
}
.sch-card .sch-progress .bar.animating::after{ transform:translateX(100%); }
.status-text { transition: opacity 0.2s ease, color 0.3s ease; }
.progress-indicator {
            position: absolute;
            right: 8px;
            top: -20px;
            font-size: 10px;
            font-weight: 600;
            color: #3b82f6;
            background: #111;
            padding: 2px 6px;
            border-radius: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
}
.progress-fill {
            position: relative;
            transition: width 0.5s ease-out;
            will-change: width;
}
.progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
}
.progress-fill.animating::after {
            transform: translateX(100%);
}
.scholarship-box[data-status="ready"] .progress-fill {
            background: linear-gradient(90deg, #4ade80, #22c55e);
}
.scholarship-box[data-status="action-required"] .progress-fill {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
}
.scholarship-box[data-status="processing"] .progress-fill {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
}
.scholarship-amount {
            transition: transform 0.3s ease, background-color 0.3s ease;
}
.scholarship-deadline {
            transition: all 0.3s ease;
}
.scholarship-deadline.urgent {
            animation: urgencyPulse 2s ease infinite;
}
.scholarship-box.milestone-50 {
            animation: milestoneBounce 0.4s ease;
}
.scholarship-box.milestone-90 {
            animation: nearCompletion 0.5s ease;
}
.scholarship-box.milestone-100 {
            animation: completionGlow 1s ease;
}
.action-box {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            animation: fadeInUp 0.4s ease-out;
            cursor: pointer;
            transition: transform 0.2s ease;
            position: relative;
}
.action-box:hover {
            transform: translateY(-2px);
}
.action-box.priority {
            background: linear-gradient(135deg, #2563eb, #1e40af);
            border-color: #3b82f6;
            animation: glow 2s ease-in-out infinite;
}
.action-box.spotlight {
            z-index: 1001;
            position: relative;
}
.action-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
}
.action-left {
            flex: 1;
}
.action-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
}
.action-buttons {
            display: flex;
            gap: 8px;
            margin-top: 8px;
}
.action-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
}
.action-btn.primary {
            background: #3b82f6;
            color: white;
}
.action-btn.secondary {
            background: transparent;
            color: #666;
            border: 1px solid #333;
}
.action-meta {
            text-align: right;
}
.action-count {
            font-size: 11px;
            color: #888;
            margin-bottom: 4px;
}
.action-deadline {
            font-size: 11px;
            color: #f59e0b;
}
.aq-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      margin: 6px 0;
      border-radius: 12px;
      background: #111115;
      border: 1px solid #222;
      font-size: 13px;
      transition: transform .15s ease, box-shadow .15s ease;
}
.aq-item:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0,0,0,.25);
}
.aq-label {
      font-weight: 600;
      color: #e5e5e5;
      display: flex;
      align-items: center;
      gap: 6px;
      padding-right: 4px;
}
.aq-cta {
      font-size: 12px;
      font-weight: 600;
      padding: 6px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      color: #fff;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      transition: background .2s ease, transform .1s ease;
}
.aq-cta:hover {
      background: linear-gradient(90deg, #2563eb, #7c3aed);
      transform: scale(1.03);
}
.aq-item.aq-sticky {
      background: #1b1b1f;
      border: 1px solid #3b82f6;
      box-shadow: 0 0 0 2px rgba(59,130,246,.3), 0 6px 16px rgba(0,0,0,.4);
      position: sticky;
      top: 0;
      z-index: 10;
      animation: glow 2s ease-in-out infinite;
}
.aq-item.aq-sticky .aq-label::before {
      content: "ðŸ“Œ";
      font-size: 12px;
      opacity: .8;
}
