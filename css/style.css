/* css/style.css - Scholarship Institute Styles */

:root{
  --onb-hero-fade: 1s;
  --onb-hero-move: 2s;
  --onb-reveal-rest: 1s;

  --onb-ease-fade: ease;
  --onb-ease-move: ease;
  --onb-ease-reveal: ease;
}

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    --success-green:rgb(27, 220, 117);
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    background: #000;
    color: #fff;
    height: 100vh;
    overflow: hidden;
    position: relative;
}

/* Container */
.app-container {
    height: 100vh;
    display: flex;
    flex-direction: column;
    max-width: 430px;
    margin: 0 auto;
    background: #0a0a0a;
    position: relative;
}

/* Landing Screen */
.landing-screen {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    padding: 40px;
    text-align: center;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
}

.landing-screen h1 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 30px;
    background: linear-gradient(135deg, #fff 0%, #888 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.landing-screen ol {
    list-style: none;
    margin-bottom: 40px;
    text-align: left;
}

.landing-screen li {
    color: #888;
    margin: 12px 0;
    font-size: 16px;
    display: flex;
    align-items: center;
}

.landing-screen li::before {
    content: attr(data-number);
    display: inline-block;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #222;
    color: #fff;
    text-align: center;
    line-height: 24px;
    margin-right: 12px;
    font-size: 12px;
    flex-shrink: 0;
}

/* Main App */
.main-app {
    display: none;
    flex-direction: column;
    height: 100vh;
}

/* Metrics Header */
.metrics-header {
    background: #0a0a0a;
    padding: 12px;
    border-bottom: 1px solid #222;
    /* animation: slideDown 0.4s ease-out; */
}

.metrics-title {
    font-size: 14px;
    color: #666;
    margin-bottom: 6px;
    font-weight: 600;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
}

.metric-box {
    background: #111;
    border-radius: 12px;
    padding: 4px;
    text-align: center;
    border: 1px solid #222;
    transition: all 0.3s ease;
}

.metric-value {
    font-size: 16px;
    font-weight: 700;
    color: #fff;
    margin-bottom: 4px;
    transition: transform 0.3s ease;
}

.metric-value.updating {
    animation: pulse 0.3s ease;
}

.metric-label {
    font-size: 8px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Content Area */
.content-area {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    position: relative;
}

/* Searching State */
.searching-state {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    padding: 40px;
}

.searching-text {
    font-size: 18px;
    color: #888;
    margin-bottom: 20px;
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #222;
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* Accordion Container */
.accordion-container {
    display: none;
    flex-direction: column;
    height: 100%;
    gap: 12px;
    padding: 12px;
}

/* Feed Section */
.feed-section {
    background: #111;
    border-radius: 16px;
    border: 1px solid #222;
    /* transition: all 0.3s ease; */
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.feed-section.expanded {
    flex: 1;
}

.feed-section.collapsed {
    height: 160px;
}

.feed-header {
    padding: 6px 16px;
    cursor: pointer;
    border-bottom: 1px solid #222;
}

.feed-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 4px;
}

.feed-subtitle {
    font-size: 12px;
    color: #666;
}

.feed-content {
    flex: 1;
    overflow-y: auto;
    padding: 6px;
}

/* Scholarship Box */
.scholarship-box {
    background: #0a0a0a;
    border: 1px solid #222;
    border-radius: 12px;
    padding: 8px 12px;
    margin-bottom: 4px;
    animation: fadeInUp 0.4s ease-out;
    transition: all 0.3s ease;
}

.scholarship-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 6px;
}

.scholarship-name {
    font-size: 14px;
    font-weight: 600;
    flex: 1;
    margin-right: 12px;
}

.scholarship-amount {
    background: #1a3a1a;
    color: #4ade80;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.scholarship-status {
    margin: 0px 0;
}

.status-text {
    font-size: 12px;
    color: #888;
    margin-bottom: 8px;
}

.status-text.action-required {
    color: #f59e0b;
    font-weight: 600;
}

.status-text.failed {
    color: #ef4444;
}

.status-text.success {
    color: #4ade80;
}

.progress-bar {
    height: 4px;
    background: #222;
    border-radius: 2px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    border-radius: 2px;
    transition: width 0.5s ease;
}

.scholarship-deadline {
    display: inline-block;
    background: #1a1a3a;
    color: #60a5fa;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 11px;
    margin-top: 8px;
}

.scholarship-deadline.urgent {
    background: #3a1a1a;
    color: #f87171;
}

/* ===== Scholarship cards (for .sch-card markup) ===== */

.sch-card{
  background:#0c0c0f;
  border:1px solid #222;
  border-radius:16px;
  padding:12px 14px 10px;
  margin:8px 0;
  box-shadow:0 2px 12px rgba(0,0,0,.35);
  animation:fadeInUp .25s ease-out;
}

/* Disable for the hero + any cards during onboarding */
.onboarding-active .sch-card { animation: none !important; }
/* â€¦and make sure the hero never runs fadeInUp */
.sch-card.intro-card { animation: none !important; }

.sch-card .sch-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:8px;
}

.sch-card .sch-name{
  font-size:14px;
  font-weight:700;
  letter-spacing:.2px;
  display:flex;
  align-items:center;
  gap:6px;
}

/* optional sparkle icon space, if you prepend one in text */
.sch-card .sch-name::before{
  content:"âœ¨";
  font-size:12px;
  opacity:.9;
}

/* right-side â€œbadgeâ€ (e.g., 100%) */
.sch-card .sch-award{
  font-size:11px;
  font-weight:700;
  color:#bbb;
  /* color: #fff; */
  background:#1a1a1f;
  /* background: var(--success-green); */
  border:1px solid #2a2a33;
  padding:2px 8px;
  border-radius:999px;
  white-space:nowrap;
}

/* deadline / flags row */
.sch-card .sch-deadline{
  display:inline-block;
  font-size:11px;
  color:#8aa9ff;
  background:#11182a;
  border:1px solid #1f2a44;
  padding:4px 10px;
  border-radius:999px;
  margin:2px 0 8px;
}

.sch-card .sch-flags{
  display:inline-flex;
  gap:6px;
  margin-left:8px;
}

.sch-card .sch-flags .flag{
  font-size:10px;
  color:#bbb;
  background:#161616;
  border:1px solid #2a2a2a;
  border-radius:999px;
  padding:2px 8px;
}

/* progress bar */
.sch-card .sch-progress{
  height:8px;
  background:#1a1a1a;
  border:1px solid #252525;
  border-radius:999px;
  overflow:hidden;
  position:relative;
}

.sch-card .sch-progress .bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#3b82f6,#8b5cf6);
  transition:width .45s ease;
}

/* status line */
.sch-card .sch-state{
  margin-top:8px;
  font-size:11px;
  color:#8a8a8a;
}

/* ===== Color by state (uses data-state set in JS) ===== */

.sch-card[data-state="scanning"] .sch-progress .bar{
  background:linear-gradient(90deg,#334155,#64748b);
}

.sch-card[data-state="analyzing"] .sch-progress .bar{
  background:linear-gradient(90deg,#3b82f6,#8b5cf6);
}

.sch-card[data-state="matched"] .sch-progress .bar{
  background:linear-gradient(90deg,#22d3ee,#3b82f6);
}

.sch-card[data-state="confirmEligibility"] .sch-progress .bar{
  background:linear-gradient(90deg,#f59e0b,#fbbf24);
}

.sch-card[data-state="readyToSubmit"] .sch-progress .bar{
  background:linear-gradient(90deg,#34d399,#10b981);
}

.sch-card[data-state="submitted"] .sch-progress .bar{
  background:linear-gradient(90deg,#34d399,#10b981);
}

/* success look for submitted */
.sch-card[data-state="submitted"]{
  border-color:#1f3b2e;
  box-shadow:0 0 0 1px rgba(16,185,129,.15), 0 6px 24px rgba(0,0,0,.35);
}
.sch-card[data-state="submitted"] .sch-state{
  color:#34d399; /* â€œApplication submitted successfullyâ€ */
}

/* optional subtle shimmer on progress moves */
.sch-card .sch-progress .bar::after{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
  transform:translateX(-100%);
  transition:transform .6s ease;
}
.sch-card .sch-progress .bar.animating::after{ transform:translateX(100%); }


/* Smooth transitions for status text */
.status-text {
    transition: opacity 0.2s ease, color 0.3s ease;
}

/* Progress indicator number */
.progress-indicator {
    position: absolute;
    right: 8px;
    top: -20px;
    font-size: 10px;
    font-weight: 600;
    color: #3b82f6;
    background: #111;
    padding: 2px 6px;
    border-radius: 10px;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

/* Enhanced progress bar */
.progress-fill {
    position: relative;
    transition: width 0.5s ease-out;
    will-change: width;
}

/* Shimmer effect for progress changes */
.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
    );
    transform: translateX(-100%);
    transition: transform 0.6s ease;
}

.progress-fill.animating::after {
    transform: translateX(100%);
}

/* Milestone animations */
@keyframes flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes completionGlow {
    0% {
        box-shadow: 0 0 0 rgba(74, 222, 128, 0);
    }
    50% {
        box-shadow: 0 0 20px rgba(74, 222, 128, 0.5);
    }
    100% {
        box-shadow: 0 0 0 rgba(74, 222, 128, 0);
    }
}

/* Status-specific progress bar colors */
.scholarship-box[data-status="ready"] .progress-fill {
    background: linear-gradient(90deg, #4ade80, #22c55e);
}

.scholarship-box[data-status="action-required"] .progress-fill {
    background: linear-gradient(90deg, #f59e0b, #fbbf24);
}

.scholarship-box[data-status="processing"] .progress-fill {
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
}

/* Smooth amount updates */
.scholarship-amount {
    transition: transform 0.3s ease, background-color 0.3s ease;
}

/* Deadline urgency animation */
.scholarship-deadline {
    transition: all 0.3s ease;
}

.scholarship-deadline.urgent {
    animation: urgencyPulse 2s ease infinite;
}

@keyframes urgencyPulse {
    0%, 100% {
        background: #3a1a1a;
        transform: scale(1);
    }
    50% {
        background: #4a2a2a;
        transform: scale(1.02);
    }
}

/* Progress milestone effects */
.scholarship-box.milestone-50 {
    animation: milestoneBounce 0.4s ease;
}

.scholarship-box.milestone-90 {
    animation: nearCompletion 0.5s ease;
}

.scholarship-box.milestone-100 {
    animation: completionGlow 1s ease;
}

@keyframes milestoneBounce {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-2px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-1px); }
}

@keyframes nearCompletion {
    0%, 100% { 
        transform: scale(1);
        filter: brightness(1);
    }
    50% { 
        transform: scale(1.02);
        filter: brightness(1.1);
    }
}

/* Action Box */
.action-box {
    background: linear-gradient(135deg, #1e293b, #0f172a);
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
    animation: fadeInUp 0.4s ease-out;
    cursor: pointer;
    transition: transform 0.2s ease;
    position: relative;
}

.action-box:hover {
    transform: translateY(-2px);
}

.action-box.priority {
    background: linear-gradient(135deg, #2563eb, #1e40af);
    border-color: #3b82f6;
    animation: glow 2s ease-in-out infinite;
}

.action-box.spotlight {
    z-index: 1001;
    position: relative;
}

.action-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.action-left {
    flex: 1;
}

.action-title {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 8px;
}

.action-buttons {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

.action-btn {
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.action-btn.primary {
    background: #3b82f6;
    color: white;
}

.action-btn.secondary {
    background: transparent;
    color: #666;
    border: 1px solid #333;
}

.action-meta {
    text-align: right;
}

.action-count {
    font-size: 11px;
    color: #888;
    margin-bottom: 4px;
}

.action-deadline {
    font-size: 11px;
    color: #f59e0b;
}

/* ===== Action Queue Items ===== */

.aq-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  margin: 6px 0;
  border-radius: 12px;
  background: #111115;
  border: 1px solid #222;
  font-size: 13px;
  transition: transform .15s ease, box-shadow .15s ease;
}

.aq-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,.25);
}

/* Label text */
.aq-label {
  font-weight: 600;
  color: #e5e5e5;
  display: flex;
  align-items: center;
  gap: 6px;
  padding-right: 4px;
}

/* CTA button */
.aq-cta {
  font-size: 12px;
  font-weight: 600;
  padding: 6px 14px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  color: #fff;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6);
  transition: background .2s ease, transform .1s ease;
}

.aq-cta:hover {
  background: linear-gradient(90deg, #2563eb, #7c3aed);
  transform: scale(1.03);
}

/* ===== Sticky variation ===== */

.aq-item.aq-sticky {
  background: #1b1b1f;
  border: 1px solid #3b82f6;
  box-shadow: 0 0 0 2px rgba(59,130,246,.3), 0 6px 16px rgba(0,0,0,.4);
  position: sticky;
  top: 0;
  z-index: 10;
}

.aq-item.aq-sticky .aq-label::before {
  content: "ðŸ“Œ";
  font-size: 12px;
  opacity: .8;
}


/* Footer */
.footer-menu {
    background: #0a0a0a;
    border-top: 1px solid #222;
    padding: 4px;
    display: flex;
    justify-content: center;
}

.footer-btn {
    background: #1a1a1a;
    border: 1px solid #333;
    color: #666;
    padding: 4px 24px;
    border-radius: 8px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.footer-btn:hover {
    background: #2a2a2a;
}

/* Dim Overlay for Spotlight */
.dim-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index: 999;
    pointer-events: none;
}

.dim-overlay.active {
    display: block;
}

.dim-overlay.spotlight {
    background: radial-gradient(circle at var(--spotlight-x, 50%) var(--spotlight-y, 50%), 
                transparent 100px, 
                rgba(0, 0, 0, 0.85) 200px);
}

/* Modals */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0);
    z-index: 1000;
    animation: fadeIn 0.3s ease;
}

.modal-overlay.active {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 120px;
}

.modal-content {
    background: #111;
    border-radius: 20px;
    width: 90%;
    max-width: 400px;
    max-height: 70vh;
    overflow-y: auto;
    border: 1px solid #333;
    animation: slideUp 0.3s ease;
}

.modal-header {
    padding: 24px;
    border-bottom: 1px solid #222;
}

.modal-title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 8px;
}

.modal-description {
    font-size: 14px;
    color: #888;
}

.modal-body {
    padding: 24px;
}

/* Quiz Elements */
.quiz-progress {
    display: none;
    gap: 4px;
    margin-bottom: 24px;
}

.progress-dot {
    flex: 1;
    height: 4px;
    background: #222;
    border-radius: 2px;
}

.progress-dot.active {
    background: #3b82f6;
}

.quiz-question {
    margin-bottom: 20px;
}

.quiz-question h3 {
    font-size: 18px;
    margin-bottom: 8px;
}

.quiz-question p {
    font-size: 14px;
    color: #888;
}

.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.quiz-option {
    background: #1a1a1a;
    border: 2px solid #333;
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.quiz-option:hover {
    border-color: #555;
}

.quiz-option.selected {
    background: #1e293b;
    border-color: #3b82f6;
}

.quiz-input {
    width: 100%;
    background: #1a1a1a;
    border: 2px solid #333;
    border-radius: 8px;
    padding: 12px;
    color: #fff;
    font-size: 14px;
}

.quiz-file-upload {
    background: #1a1a1a;
    border: 2px dashed #333;
    border-radius: 12px;
    padding: 24px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.quiz-file-upload:hover {
    border-color: #555;
}

.quiz-date-inputs {
    display: flex;
    gap: 8px;
}

.quiz-date-inputs input {
    flex: 1;
    background: #1a1a1a;
    border: 2px solid #333;
    border-radius: 8px;
    padding: 12px;
    color: #fff;
    font-size: 14px;
    text-align: center;
}

.quiz-checkbox {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    margin: 20px 0;
}

.quiz-checkbox input {
    width: 20px;
    height: 20px;
    margin-top: 2px;
}

.quiz-checkbox label {
    font-size: 14px;
    color: #888;
}

.quiz-actions {
    display: flex;
    gap: 12px;
    margin-top: 24px;
}

.quiz-btn {
    flex: 1;
    padding: 12px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.quiz-btn.primary {
    background: #3b82f6;
    color: white;
}

.quiz-btn.secondary {
    background: transparent;
    color: #666;
    border: 1px solid #333;
}

.quiz-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

#quizModal .modal-title {
    font-size: 20px;
    color: #c5c7ca;
}

/* ===== Quiz modal body ===== */
#quizBody {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Title + optional subtitle */
#quizBody .q-head h3 {
  font-size: 18px;
  font-weight: 700;
  letter-spacing: .2px;
}
#quizBody .q-head p {
  margin-top: 6px;
  font-size: 14px;
  color: #9ca3af; /* subtle gray */
}

/* Choice layout */
#quizBody .choices {
  /* display: grid; */
  display: flex;
  /* grid-template-columns: 1fr 1fr; */ /* Yes/No = two columns */
  gap: 10px;
}

/* If you want vertical stack on narrow screens */
@media (max-width: 360px) {
  #quizBody .choices { grid-template-columns: 1fr; }
}

/* Chips (buttons) */
#quizBody .chip {
  appearance: none;
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 2px solid #2f2f2f;
  background: #171717;
  color: #e5e7eb;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .12s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
}

#quizBody .chip:hover {
  border-color: #4b5563;
  transform: translateY(-1px);
}

#quizBody .chip:active {
  transform: translateY(0);
}

/* Keyboard focus ring */
#quizBody .chip:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px #0b1220, 0 0 0 4px #3b82f6;
}

/* Selected/active state (used by multi-select, or if you toggle .active) */
#quizBody .chip.active,
#quizBody .chip[aria-pressed="true"] {
  background: linear-gradient(135deg, #1e293b, #0f172a);
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59,130,246,.25);
  color: #fff;
}

/* Optional: a subtle divider if you add more sections later */
#quizBody .section-divider {
  height: 1px;
  background: #222;
  margin: 6px 0;
  border-radius: 1px;
}

/* =========================
   Quiz modal styling
   (scoped to #quizBody)
   ========================= */

#quizBody {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  /* Optional â€œcardâ€ feel */
  background: #0f0f12;
  border: 1px solid #232323;
  /* border-radius: 16px; */
}

/* Title + subtitle */
#quizBody .q-head h3 {
  font-size: 18px;
  font-weight: 700;
  letter-spacing: .2px;
}
#quizBody .q-head p {
  margin-top: 6px;
  font-size: 14px;
  color: #9ca3af;
}

/* Field wrapper */
#quizBody .q-field {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Labels, hints, errors */
#quizBody .q-label {
  font-size: 13px;
  font-weight: 600;
}
#quizBody .q-hint {
  font-size: 12px;
  color: #9ca3af;
}
#quizBody .q-error {
  font-size: 12px;
  color: #f87171;
}

/* Text inputs (short/long) */
#quizBody input[type="text"],
#quizBody input[type="number"],
#quizBody input[type="email"],
#quizBody input[type="date"],
#quizBody textarea {
  width: 100%;
  color: #e5e7eb;
  background: #171717;
  border: 2px solid #2f2f2f;
  border-radius: 12px;
  padding: 12px 14px;
  font-size: 14px;
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}

#quizBody textarea {
  min-height: 110px;
  resize: vertical;
}

#quizBody input::placeholder,
#quizBody textarea::placeholder {
  color: #6b7280;
}

#quizBody input:focus-visible,
#quizBody textarea:focus-visible {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px #0b1220, 0 0 0 4px rgba(59,130,246,.65);
}

/* Error state (toggle by adding .is-error to the input/textarea) */
#quizBody .is-error {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 2px #1a0b0b, 0 0 0 4px rgba(239,68,68,.45) !important;
}

/* Date input: keep same look; hide ugly spinner in some browsers */
#quizBody input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(0.8);
  opacity: .9;
}

/* File input (uses ::file-selector-button) */
#quizBody input[type="file"] {
  color: #9ca3af;               /* filename text */
  background: #171717;
  border: 2px solid #2f2f2f;
  border-radius: 12px;
  padding: 10px;
  font-size: 13px;
}
#quizBody input[type="file"]::file-selector-button {
  margin-right: 10px;
  padding: 8px 12px;
  border: none;
  border-radius: 8px;
  color: #fff;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6);
  cursor: pointer;
  transition: transform .12s ease, filter .2s ease;
}
#quizBody input[type="file"]::file-selector-button:hover {
  filter: brightness(1.06);
  transform: translateY(-1px);
}

/* Checkbox & radio (keep native for a11y, style via accent-color) */
#quizBody input[type="checkbox"],
#quizBody input[type="radio"] {
  accent-color: #3b82f6;
  transform: translateY(1px);
}

/* Choice chips (single/multi) â€” from earlier, kept here for completeness */
#quizBody .choices {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
@media (max-width: 360px) { #quizBody .choices { grid-template-columns: 1fr; } }

#quizBody .chip {
  appearance: none;
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 2px solid #2f2f2f;
  background: #171717;
  color: #e5e7eb;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .12s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
#quizBody .chip:hover { border-color: #4b5563; transform: translateY(-1px); }
#quizBody .chip:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px #0b1220, 0 0 0 4px #3b82f6;
}
#quizBody .chip.active,
#quizBody .chip[aria-pressed="true"] {
  background: linear-gradient(135deg, #1e293b, #0f172a);
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59,130,246,.25);
  color: #fff;
}

/* Buttons inside quiz (matches your app buttons) */
#quizBody .btn,
#quizBody .btn-primary {
  align-self: start;
  font-size: 14px;
  font-weight: 700;
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  color: #fff;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6);
  transition: transform .1s ease, filter .2s ease, box-shadow .2s ease;
}
#quizBody .btn:hover,
#quizBody .btn-primary:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}
#quizBody .btn:active,
#quizBody .btn-primary:active { transform: translateY(0); }

/* Spacing helpers for multi-part questions */
#quizBody .row { display: flex; gap: 10px; }
#quizBody .row > * { flex: 1; }

/* Subtle divider you can drop between sections */
#quizBody .section-divider {
  height: 1px;
  background: #222;
  margin: 6px 0;
  border-radius: 1px;
}



/* Paywall Modal */
.paywall-plans {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.plan-card {
    background: #1a1a1a;
    border: 2px solid #333;
    border-radius: 12px;
    padding: 20px;
    transition: all 0.2s ease;
    position: relative;
}

.plan-card.recommended {
    border-color: #3b82f6;
}

.plan-card.vip {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    border-color: #f59e0b;
}

.plan-card.vip * {
    color: #000 !important;
}

.plan-badge {
    position: absolute;
    top: -12px;
    right: 20px;
    background: #3b82f6;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
}

.plan-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 12px;
}

.plan-name {
    font-size: 16px;
    font-weight: 600;
}

.plan-price {
    font-size: 20px;
    font-weight: 700;
    color: #3b82f6;
}

.plan-period {
    font-size: 12px;
    color: #666;
}

.plan-features {
    list-style: none;
    margin: 16px 0;
}

.plan-features li {
    font-size: 13px;
    color: #888;
    margin: 8px 0;
    padding-left: 20px;
    position: relative;
}

.plan-features li::before {
    content: "âœ“";
    position: absolute;
    left: 0;
    color: #4ade80;
}

.plan-cta {
    width: 100%;
    padding: 12px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.plan-cta:hover {
    background: #2563eb;
}

.plan-cta.vip-cta {
    background: #000;
    color: #fbbf24;
}

/* Overlay + content layout */
.modal-overlay {
  position: fixed;
  inset: 0;
  display: none;                 /* toggled by .active */
  align-items: center;
  justify-content: center;
  z-index: 1000;                 /* above the dim overlay */
}
.modal-overlay.active { display: flex; }

.modal-content {
  width: min(820px, 92vw);
  max-height: 88vh;              /* viewport-based height cap */
  display: flex;
  flex-direction: column;
  background: #0f0f12;
  border: 1px solid #232323;
  border-radius: 16px;
  overflow: auto;                /* IMPORTANT: this is the scroll container */
}

/* Sticky header at top of scroll container */
.modal-header {
  position: sticky;
  top: 0;
  z-index: 1;
  background: linear-gradient(180deg, rgba(18,18,22,.98), rgba(18,18,22,.92));
  backdrop-filter: blur(4px);
  border-bottom: 1px solid #252525;
  padding: 16px 18px;
}

.modal-title {
  font-size: 18px;
  font-weight: 800;
}
.modal-description {
  margin-top: 6px;
  font-size: 13px;
  color: #9ca3af;
}

/* Body scrolls under the sticky header */
.modal-body {
  padding: 16px 18px 20px;
  max-height: 45vmax;
}

/* Plans grid (optional polish) */
/* .paywall-plans {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
} */
@media (max-width: 640px) {
  .paywall-plans { grid-template-columns: 1fr; }
}

.plan-card {
  background: #111115;
  border: 1px solid #222;
  border-radius: 14px;
  padding: 14px;
}
.plan-card.recommended {
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59,130,246,.25);
  position: relative;
}
.plan-badge {
  position: absolute;
  top: -10px; right: 12px;
  font-size: 11px;
  font-weight: 800;
  color: #0b1020;
  background: #60a5fa;
  padding: 2px 8px;
  border-radius: 999px;
}
.plan-header {
  display: flex; align-items: baseline; justify-content: space-between; gap: 10px;
  margin-bottom: 8px;
}
.plan-name { font-weight: 800; }
.plan-price { font-size: 20px; font-weight: 900; }
.plan-period { font-size: 12px; color: #9ca3af; }
.plan-features { margin: 8px 0 12px; padding-left: 18px; }
.plan-cta {
  width: 100%;
  font-weight: 800;
  color: #fff;
  background: linear-gradient(90deg,#3b82f6,#8b5cf6);
  border: none; border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
}
.plan-cta.vip-cta { background: linear-gradient(90deg,#22c55e,#16a34a); }


/* Button styling */
.btn {
    padding: 16px 32px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
    box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 30px rgba(59, 130, 246, 0.4);
}

/* ===== Accordion headers: one line with plain +/- on the right ===== */

.feed-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  user-select: none;
}
.feed-header:hover { background: rgba(255,255,255,0.03); }

/* title + subtitle inline */
.feed-title {
  font-weight: 700;
}
.feed-subtitle {
  margin-left: 8px;
  color: #9ca3af;
  font-size: 12px;
  opacity: .95;
}

/* real toggle at far right, NO border/circle */
.feed-toggle {
  margin-left: auto;          /* pushes it to the right */
  background: none;
  border: none;
  color: #cbd5e1;
  font-weight: 900;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  padding: 0 2px;
}
.feed-toggle:hover { color: #e5e7eb; }

/* if you had the old ::after icon, kill it */
.feed-header::after { content: none !important; }

/* ===== Content expand/collapse ===== */

.feed-content {
  overflow: hidden;           /* collapsed: hide overflow (no scroll) */
  /* max-height: 0; */ /*             JS animates this */
  opacity: 1;
  transition: max-height .25s ease, opacity .2s ease;
}

/* Expanded: show fully (can scroll if it's large) */
.feed-section.expanded .feed-content {
  opacity: 1;
  overflow: auto;             /* allow scroll only when expanded */
}

/* Collapsed: show a small preview height with a gentle fade */
.feed-section.collapsed .feed-content {
  /* max-height: 160px;          show a bit of content */
  position: relative;
}
.feed-section.collapsed .feed-content::after {
  content: "";
  position: sticky;
  display: block;
  height: 36px;
  margin-top: -36px;          /* sits at bottom edge */
  /* bottom: 0; */
  /* background: linear-gradient(to bottom, rgba(15,15,18,0), rgba(15,15,18,0.9)); */
  pointer-events: none;
}

/* Optional framing */
.feed-section { border: 1px solid #202020; border-radius: 12px; background:#0f0f12; }
.feed-section + .feed-section { margin-top: 10px; }


/* ===== Onboarding: centered "Searching..." ===== */
#searchIntroOverlay {
  position: fixed;
  inset: 0;
  display: none;           /* toggled with .active */
  align-items: center;
  justify-content: center;
  z-index: 1100;
  background: radial-gradient(1200px 800px at 50% 40%, rgba(25,25,30,.35), rgba(15,15,18,.9));
}
#searchIntroOverlay.active { display: flex; }

.search-intro-text {
  font-size: 20px;
  font-weight: 800;
  letter-spacing: .3px;
  display: inline-flex;
  align-items: baseline;
  gap: 3px;
}
.search-intro-ellipses {
  display: inline-grid;
  grid-auto-flow: column;
  gap: 2px;
}
.search-intro-ellipses span {
  width: 6px; height: 6px; border-radius: 50%;
  background: #cbd5e1;
  opacity: 0;
  animation: dotPulse 900ms ease-in-out infinite;
}
.search-intro-ellipses span:nth-child(2) { animation-delay: 150ms; }
.search-intro-ellipses span:nth-child(3) { animation-delay: 300ms; }
@keyframes dotPulse {
  0%, 100% { opacity: .15; }
  50%      { opacity: 1;   }
}

/* ===== Onboarding: hide everything but the hero card ===== */
.onboarding-active .main-app { opacity: 1; } /* ensure dashboard is visible */
/* fade everything except the live feed section */
/* Fade everything except the content-area on the main-app row */
.onboarding-active .main-app > :not(.content-area) { opacity: 0; }

/* Inside content-area, fade everything except the accordion */
.onboarding-active .content-area > :not(#accordionContainer) { opacity: 0; }

/* Keep the live feed visible within the accordion */
.onboarding-active #accordionContainer > :not(#liveFeedSection) { opacity: 0; }
.onboarding-active #liveFeedSection .feed-content > :not(.sch-card.intro-card) { opacity: 0; }
.onboarding-active #liveFeedSection .sch-card * > :not(.sch-card.intro-card *) { opacity: 0; }

/* Ensure the hero and its children are visible */
/* .onboarding-active .sch-card.intro-card, */
/* .onboarding-active .sch-card.intro-card * { opacity: 1 !important; } */

/* Also keep the feed container visible so layout is stable */
.onboarding-active #liveFeedSection,
.onboarding-active #liveFeedHeader,
.onboarding-active #liveFeedContent { opacity: 1; }

/* ===== Hero/intro card positioning & animation ===== */
.sch-card.intro-card {
  will-change: transform;
  transform: translate3d(0,0,0);
  transition: transform .45s ease;
  z-index: 500; /* above dashboard, below search overlay */
  position: relative; /* transforms relative to flow */
}

.onboarding-active .main-app > :not(.metrics-header):not(.content-area) { opacity: 0; }

/* During onboarding, never clip the hero card while it's centered */
/* .onboarding-active #liveFeedContent { overflow: visible !important; } */

/* Hide the Live Feed header during onboarding */
.onboarding-active #liveFeedHeader {
  opacity: 0 !important;
  pointer-events: none;            /* avoid hover cursor on invisible header */
}

/* Strip the live feed section chrome so only the hero card draws attention */
.onboarding-active #liveFeedSection {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
  overflow: visible !important;    /* avoid clipping the centered card */
}

/* Remove inner padding so you don't see a "ghost" inset around the hero */
.onboarding-active #liveFeedContent {
  padding: 0 !important;
  overflow: visible !important;    /* let centered card spill out cleanly */
}

/* Keep only the hero scholarship card visible in the live feed */
.onboarding-active #liveFeedSection .feed-content > :not(.sch-card.intro-card) {
  opacity: 0;
}

/* Only the hero card is allowed to be visible during onboarding, but we
   explicitly gate that visibility via .intro-visible so JS can stage it. */
/* Hero card transitions during onboarding */
.onboarding-active .sch-card.intro-card,
.onboarding-active .sch-card.intro-card * {
  opacity: 0;
  transition:
    opacity var(--onb-hero-fade) var(--onb-ease-fade),
    transform var(--onb-hero-move) var(--onb-ease-move);
}

/* Disable transitions only while staging (you already add/remove this class) */
.onboarding-active .sch-card.intro-card.intro-prep{
  transition: none !important;
}

.onboarding-active .sch-card.intro-card.intro-visible,
.onboarding-active .sch-card.intro-card.intro-visible * { opacity: 1; }

/* Keep metrics header visible during onboarding */
.onboarding-active .main-app > :not(.metrics-header):not(.content-area) { opacity: 0; }
/* only when we are actively revealing */
.onboarding-revealing .main-app *{
  transition: opacity var(--onb-reveal-rest) var(--onb-ease-reveal);
}



/* Ensure the hero card and its children are fully visible */
/* .onboarding-active .sch-card.intro-card,
.onboarding-active .sch-card.intro-card * {
  opacity: 1 !important;
  z-index: 1050;
} */

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
    50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.5); }
}

/* Utility Classes */
.hidden { display: none !important; }
.dim { opacity: 0.3; }


/* Debug: keep the hero visible and non-animating before the center transform */
.onboarding-active .sch-card.intro-card.intro-freeze {
  opacity: 1 !important;
  transition: none !important;
  animation: none !important;
}